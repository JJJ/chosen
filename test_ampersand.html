<!DOCTYPE html>
<html>
<head>
  <title>Test Ampersand in Placeholder</title>
  <link rel="stylesheet" href="docs/chosen.css">
  <script src="docs/docsupport/jquery-3.5.1.min.js"></script>
  <script src="docs/chosen.jquery.js"></script>
</head>
<body>
  <h1>Test Ampersand Issue</h1>
  
  <h2>Test 1: Direct ampersand</h2>
  <select id="test1" data-placeholder="Choose from A & B">
    <option value=""></option>
    <option value="1">Option 1</option>
    <option value="2">Option 2</option>
  </select>
  <div id="result1"></div>

  <h2>Test 2: Encoded ampersand</h2>
  <select id="test2" data-placeholder="Choose from A &amp; B">
    <option value=""></option>
    <option value="1">Option 1</option>
    <option value="2">Option 2</option>
  </select>
  <div id="result2"></div>

  <h2>Test 3: Double encoded ampersand (edge case)</h2>
  <select id="test3" data-placeholder="Choose from A &amp;amp; B">
    <option value=""></option>
    <option value="1">Option 1</option>
    <option value="2">Option 2</option>
  </select>
  <div id="result3"></div>

  <script>
    $(document).ready(function() {
      // Initialize chosen
      $('#test1').chosen();
      $('#test2').chosen();
      $('#test3').chosen();
      
      // Show what's displayed
      setTimeout(function() {
        $('#result1').text('Displayed: ' + $('#test1_chosen .chosen-single span').text());
        $('#result2').text('Displayed: ' + $('#test2_chosen .chosen-single span').text());
        $('#result3').text('Displayed: ' + $('#test3_chosen .chosen-single span').text());
      }, 100);
    });
  </script>
</body>
</html>
