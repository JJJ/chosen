<!DOCTYPE html>
<html>
<head>
  <title>Comprehensive Ampersand Test</title>
  <link rel="stylesheet" href="docs/chosen.css">
  <script src="docs/docsupport/jquery-3.5.1.min.js"></script>
  <script src="docs/chosen.jquery.js"></script>
</head>
<body>
  <h1>Comprehensive Tests</h1>
  
  <h2>Test A: HTML with literal &amp; (correct way)</h2>
  <select id="testA" data-placeholder="Choose from A &amp; B">
    <option value=""></option>
    <option value="1">Option 1</option>
  </select>
  <div id="resultA"></div>

  <h2>Test B: jQuery attr() with escaped string</h2>
  <select id="testB">
    <option value=""></option>
    <option value="1">Option 1</option>
  </select>
  <div id="resultB"></div>

  <h2>Test C: jQuery attr() with plain string</h2>
  <select id="testC">
    <option value=""></option>
    <option value="1">Option 1</option>
  </select>
  <div id="resultC"></div>

  <h2>Test D: Chosen options with plain string</h2>
  <select id="testD">
    <option value=""></option>
    <option value="1">Option 1</option>
  </select>
  <div id="resultD"></div>

  <h2>Test E: Chosen options with escaped string</h2>
  <select id="testE">
    <option value=""></option>
    <option value="1">Option 1</option>
  </select>
  <div id="resultE"></div>

  <script>
    $(document).ready(function() {
      // Test A - already has data-placeholder in HTML
      $('#testA').chosen();
      
      // Test B - set via jQuery with escaped string
      $('#testB').attr('data-placeholder', 'Choose from A &amp; B');
      $('#testB').chosen();
      
      // Test C - set via jQuery with plain string
      $('#testC').attr('data-placeholder', 'Choose from A & B');
      $('#testC').chosen();
      
      // Test D - via options with plain string
      $('#testD').chosen({
        placeholder_text_single: 'Choose from A & B'
      });
      
      // Test E - via options with escaped string
      $('#testE').chosen({
        placeholder_text_single: 'Choose from A &amp; B'
      });
      
      // Show results
      setTimeout(function() {
        $('#resultA').text('Display: "' + $('#testA_chosen .chosen-single span').text() + '"');
        $('#resultB').text('Display: "' + $('#testB_chosen .chosen-single span').text() + '"');
        $('#resultC').text('Display: "' + $('#testC_chosen .chosen-single span').text() + '"');
        $('#resultD').text('Display: "' + $('#testD_chosen .chosen-single span').text() + '"');
        $('#resultE').text('Display: "' + $('#testE_chosen .chosen-single span').text() + '"');
      }, 100);
    });
  </script>
</body>
</html>
